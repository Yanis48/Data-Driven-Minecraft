{
	"nbt_mapping": {
		"EntityData": "$EntityData",
        "display.Name": "$Name"
	},
	"spawn_entities": {
		"entity": [
			{
				"name": "minecraft:tropical_fish",
				"nbt_to_mapping": {
                    "": "$EntityData",
                    "CustomName": "$Name"
				}
			}
		]
	},
	"block_interaction": [
		{
			"block": {
				"name": "minecraft:spawner"
			},
			"actions": [
				{
				"function": "minecraft:alter_blocks",
				"blocks": [
					{
						"nbt": "{SpawnData:{id:'minecraft:tropical_fish'},SpawnPotentials:[{Weight:1,Entity:{id:'minecraft:tropical_fish'}}]}",
						"nbt_to_mapping": {
                            "SpawnData": "$EntityData",
							"SpawnPotentials[0].Entity": "$EntityData"
						}
					}
				],
			],
			"item": {
				"name": "minecraft:air"
			}
		}
	]
}