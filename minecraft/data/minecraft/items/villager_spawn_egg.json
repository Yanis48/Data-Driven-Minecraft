{
	"nbt_mapping": {
		"EntityData": "$EntityData",
        "display.Name": "$Name"
	},
	"spawn_entities": {
		"entity": [
			{
				"name": "minecraft:villager",
				"nbt_to_mapping": {
                    "": "$EntityData",
                    "CustomName": "$Name"
				}
			}
		],
		"overwrites": [
			{
				"target_entity": {
					"name": "minecraft:villager"
				},
				"entity": [
					{
						"name": "minecraft:villager",
						"nbt": "{Age:-24000}",
						"nbt_to_mapping": {
                            "": "$EntityData",
                            "CustomName": "$Name"
						}
					}
				]
			}
		]
	},
	"block_interaction": [
		{
			"block": {
				"name": "minecraft:spawner"
			},
			"actions": [
				{
				"function": "minecraft:alter_blocks",
				"blocks": [
					{
						"nbt": "{SpawnData:{id:'minecraft:villager'},SpawnPotentials:[{Weight:1,Entity:{id:'minecraft:villager'}}]}",
						"nbt_to_mapping": {
                            "SpawnData": "$EntityData",
							"SpawnPotentials[0].Entity": "$EntityData"
						}
					}
				}
            ],
			"item": {
				"name": "minecraft:air"
			}
		}
	]
}